{% extends "base.html" %}

{% block title %}Manage Contact Information{% endblock %}

{% block content %}
<div class="min-h-screen py-20">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <!-- Header -->
        <div class="text-center mb-16 animate-fade-in">
            <h1 class="text-4xl md:text-5xl font-bold text-white mb-6">
                Manage <span class="text-yellow-400">Contact Information</span>
            </h1>
            <p class="text-xl text-gray-300 max-w-3xl mx-auto leading-relaxed">
                Update contact details, social links, and FAQ for the Foto-Grafica community.
            </p>
        </div>

        <!-- Update Contact Form -->
        <div class="bg-gray-800/50 border border-gray-700 rounded-lg p-6 mb-12 animate-on-scroll">
            <h3 class="text-xl font-semibold text-white mb-4">Update Contact Information</h3>
            <form method="POST">
                {{ form.hidden_tag() }}
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                    <div>
                        {{ form.email.label(class="block text-sm font-medium text-gray-300 mb-2") }}
                        {{ form.email(class="w-full p-2 border border-gray-600 rounded bg-white text-black") }}
                    </div>
                    <div>
                        {{ form.phone.label(class="block text-sm font-medium text-gray-300 mb-2") }}
                        {{ form.phone(class="w-full p-2 border border-gray-600 rounded bg-white text-black") }}
                    </div>
                    <div>
                        {{ form.phone_hours.label(class="block text-sm font-medium text-gray-300 mb-2") }}
                        {{ form.phone_hours(class="w-full p-2 border border-gray-600 rounded bg-white text-black") }}
                    </div>
                </div>
                <div class="mb-4">
                    <label class="block text-sm font-medium text-gray-300 mb-2">Address</label>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        {{ form.line1.label(class="block text-sm font-medium text-gray-300 mb-2") }}
                        {{ form.line1(class="w-full p-2 border border-gray-600 rounded bg-white text-black") }}
                        {{ form.line2.label(class="block text-sm font-medium text-gray-300 mb-2") }}
                        {{ form.line2(class="w-full p-2 border border-gray-600 rounded bg-white text-black") }}
                        <div class="md:col-span-2">
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                                {{ form.city.label(class="block text-sm font-medium text-gray-300 mb-2") }}
                                {{ form.city(class="w-full p-2 border border-gray-600 rounded bg-white text-black") }}
                                {{ form.state.label(class="block text-sm font-medium text-gray-300 mb-2") }}
                                {{ form.state(class="w-full p-2 border border-gray-600 rounded bg-white text-black") }}
                                {{ form.zip_code.label(class="block text-sm font-medium text-gray-300 mb-2") }}
                                {{ form.zip_code(class="w-full p-2 border border-gray-600 rounded bg-white text-black") }}
                            </div>
                        </div>
                    </div>
                </div>
                <div class="mb-4">
                    <label class="block text-sm font-medium text-gray-300 mb-2">Office Hours</label>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        {{ form.weekdays.label(class="block text-sm font-medium text-gray-300 mb-2") }}
                        {{ form.weekdays(class="w-full p-2 border border-gray-600 rounded bg-white text-black") }}
                        {{ form.weekend.label(class="block text-sm font-medium text-gray-300 mb-2") }}
                        {{ form.weekend(class="w-full p-2 border border-gray-600 rounded bg-white text-black") }}
                        {{ form.closed.label(class="block text-sm font-medium text-gray-300 mb-2") }}
                        {{ form.closed(class="w-full p-2 border border-gray-600 rounded bg-white text-black") }}
                    </div>
                </div>
                <div class="mb-4">
                    <label class="block text-sm font-medium text-gray-300 mb-2">Social Links</label>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        {{ form.instagram.label(class="block text-sm font-medium text-gray-300 mb-2") }}
                        {{ form.instagram(class="w-full p-2 border border-gray-600 rounded bg-white text-black") }}
                        {{ form.facebook.label(class="block text-sm font-medium text-gray-300 mb-2") }}
                        {{ form.facebook(class="w-full p-2 border border-gray-600 rounded bg-white text-black") }}
                        {{ form.twitter.label(class="block text-sm font-medium text-gray-300 mb-2") }}
                        {{ form.twitter(class="w-full p-2 border border-gray-600 rounded bg-white text-black") }}
                        {{ form.instagram_handle.label(class="block text-sm font-medium text-gray-300 mb-2") }}
                        {{ form.instagram_handle(class="w-full p-2 border border-gray-600 rounded bg-white text-black") }}
                    </div>
                </div>
                <div class="mb-4">
                    <label class="block text-sm font-medium text-gray-300 mb-2">FAQ</label>
                    <div id="faq-container">
                        {% for faq_item in form.faq %}
                        <div class="faq-item mb-2 p-2 border border-gray-600 rounded bg-gray-700/50">
                            {{ faq_item.question.label(class="block text-sm font-medium text-gray-300 mb-1") }}
                            {{ faq_item.question(class="w-full p-2 border border-gray-600 rounded bg-white text-black mb-1") }}
                            {{ faq_item.answer.label(class="block text-sm font-medium text-gray-300 mb-1") }}
                            {{ faq_item.answer(class="w-full p-2 border border-gray-600 rounded bg-white text-black") }}
                            <button type="button" class="remove-faq mt-1 bg-red-500 hover:bg-red-600 text-white px-2 py-1 rounded text-sm" onclick="removeFAQ(this)">Remove</button>
                        </div>
                        {% endfor %}
                    </div>
                    <button type="button" onclick="addFAQ()" class="mt-2 bg-yellow-500 hover:bg-yellow-600 text-black px-3 py-1 rounded text-sm">Add FAQ Item</button>
                </div>
                {{ form.submit(class="bg-yellow-500 hover:bg-yellow-600 text-black px-4 py-2 rounded font-semibold") }}
            </form>
        </div>

        {% if contact_info %}
        <!-- Social Links Preview -->
        <div class="mb-12">
            <h3 class="text-2xl font-semibold text-white mb-6">Social Links Preview</h3>
            <div class="grid grid-cols-1 md:grid-cols-4 gap-6">
                {% for key, value in social.items() %}
                <div class="bg-gray-800/50 border border-gray-700 rounded-lg p-4 text-center">
                    <i data-lucide="{{ 'facebook' if key == 'facebook' else 'twitter' if key == 'twitter' else 'instagram' if key == 'instagram' else 'linkedin' }}" class="h-8 w-8 mx-auto mb-2 text-yellow-400"></i>
                    <h4 class="text-white font-semibold mb-1">{{ key|title }}</h4>
                    <a href="{{ value }}" class="text-gray-300 hover:text-yellow-400 text-sm" target="_blank">{{ value }}</a>
                </div>
                {% endfor %}
            </div>
        </div>

        <!-- FAQ Preview -->
        <div class="mb-12">
            <h3 class="text-2xl font-semibold text-white mb-6">FAQ Preview</h3>
            <div class="space-y-4">
                {% for item in faq %}
                <div class="bg-gray-800/50 border border-gray-700 rounded-lg p-6">
                    <h4 class="text-white font-semibold mb-2">{{ item.question }}</h4>
                    <p class="text-gray-300">{{ item.answer }}</p>
                </div>
                {% endfor %}
            </div>
        </div>
        {% endif %}

        <div class="text-center mt-8">
            <a href="{{ url_for('admin') }}" class="btn btn-secondary">Back to Admin</a>
        </div>
    </div>
</div>
{% endblock %}
